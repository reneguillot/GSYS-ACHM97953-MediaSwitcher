"use strict";(self.webpackChunkgcx_media_switcher=self.webpackChunkgcx_media_switcher||[]).push([[1986],{6987:function(e,t,r){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1/0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;return isNaN(e)?NaN:Math.min(Math.max(e,t),r)}r.d(t,{c:function(){return n}})},1986:function(e,t,r){r.r(t),r.d(t,{gux_column_manager_item:function(){return h}});var n=r(4942),o=r(4165),i=r(5861),a=r(5671),u=r(3144),c=r(7881),s=r(2079),d=r(5605);var l={activateReordering:"Activate reordering mode for {columnName} column"},h=function(){function e(t){(0,a.Z)(this,e),(0,c.r)(this,t),this.internal_order_change=(0,c.c)(this,"internal_order_change",7),this.internal_keyboard_reorder_start=(0,c.c)(this,"internal_keyboard_reorder_start",7),this.internal_keyboard_reorder_move=(0,c.c)(this,"internal_keyboard_reorder_move",7),this.internal_keyboard_reorder_emit=(0,c.c)(this,"internal_keyboard_reorder_emit",7),this.internal_keyboard_reorder_finish=(0,c.c)(this,"internal_keyboard_reorder_finish",7),this.orderId=void 0,this.highlightActive=void 0,this.highlight=void 0,this.text=void 0,this.pendingReorder="none",this.isDragging=!1,this.isReordering=!1}return(0,u.Z)(e,[{key:"guxSetHighlight",value:function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){var t,r,n=arguments;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.length>0&&void 0!==n[0]?n[0]:"",r=n.length>1&&void 0!==n[1]&&n[1],this.highlight=t,this.highlightActive=r;case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"guxFocus",value:function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.reorderButtonElement.focus();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onBlur",value:function(){this.setReorderMode(!1)}},{key:"onDragStart",value:function(e){this.isDragging=!0;var t=(0,d.c)(this.root);e.dataTransfer.setData("oldIndex",String(t)),e.dataTransfer.effectAllowed="move"}},{key:"onDragEnter",value:function(e){e.dataTransfer.dropEffect="move",this.pendingReorder=this.mouseOnTopHalf(e)?"above":"below"}},{key:"onDragOver",value:function(e){e.preventDefault(),this.pendingReorder=this.mouseOnTopHalf(e)?"above":"below"}},{key:"onDragLeave",value:function(){this.pendingReorder="none"}},{key:"onDragEnd",value:function(){this.isDragging=!1}},{key:"onDrop",value:function(e){var t=Number(e.dataTransfer.getData("oldIndex")),r=(0,d.c)(this.root);e.stopPropagation(),e.stopImmediatePropagation(),this.pendingReorder="none";var n=function(e,t,r){return e<t?r?t-1:t:r?t:t+1}(t,r,this.mouseOnTopHalf(e));return this.internal_order_change.emit({oldIndex:t,newIndex:n}),!1}},{key:"mouseOnTopHalf",value:function(e){var t=this.root.getBoundingClientRect();return e.clientY-t.top<=(t.bottom-t.top)/2}},{key:"onSlotChange",value:function(){this.text=this.root.querySelector("gux-form-field-checkbox label").textContent}},{key:"setReorderMode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.isReordering!==e&&(this.isReordering=e,e?this.internal_keyboard_reorder_start.emit(this.text):(t&&this.internal_keyboard_reorder_emit.emit(),this.internal_keyboard_reorder_finish.emit()))}},{key:"toggleReorderMode",value:function(){this.setReorderMode(!this.isReordering,!0)}},{key:"keyboardReorder",value:function(e){if(this.isReordering)switch(e.key){case"ArrowUp":e.preventDefault(),this.internal_keyboard_reorder_move.emit({delta:-1,column:this.text});break;case"ArrowDown":e.preventDefault(),this.internal_keyboard_reorder_move.emit({delta:1,column:this.text});break;case"Home":e.preventDefault(),this.internal_keyboard_reorder_move.emit({delta:-1/0,column:this.text});break;case"End":e.preventDefault(),console.log("End"),this.internal_keyboard_reorder_move.emit({delta:1/0,column:this.text});break;case"Escape":e.preventDefault(),this.setReorderMode(!1)}}},{key:"componentWillLoad",value:function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.b)(this.root,l);case 2:this.i18n=e.sent;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this;return(0,c.h)(c.H,{draggable:"true"},(0,c.h)("div",{class:(e={"gux-container":!0},(0,n.Z)(e,"gux-drop-".concat(this.pendingReorder),!0),(0,n.Z)(e,"gux-dragging",this.isDragging),e)},(0,c.h)("button",{class:{"gux-reorder":!0,"gux-reordering":this.isReordering},type:"button",onClick:function(){return t.toggleReorderMode()},onKeyDown:function(e){return t.keyboardReorder(e)},ref:function(e){return t.reorderButtonElement=e}},(0,c.h)("gux-icon",{"icon-name":"grab-vertical",decorative:!0}),(0,c.h)("span",{class:"gux-sr-only"},this.i18n("activateReordering",{columnName:this.text}))),(0,c.h)("div",{class:"gux-select"},(0,c.h)("slot",{onSlotchange:function(){return t.onSlotChange()}}),(0,c.h)("gux-text-highlight",{class:{"gux-active":this.highlightActive},highlight:this.highlight,text:this.text,strategy:"contains"}))))}},{key:"root",get:function(){return(0,c.g)(this)}}]),e}();h.style=":host([gs-reorder-indicator='above']) .gux-container{border-top-color:#aac9ff}:host([gs-reorder-indicator='below']) .gux-container{border-bottom-color:#aac9ff}.gux-container{display:flex;flex-direction:row;flex-wrap:nowrap;align-content:stretch;align-items:center;justify-content:flex-start;margin-bottom:-2px;border-top:2px solid transparent;border-bottom:2px solid transparent}.gux-container.gux-drop-above{border-top-color:#aac9ff}.gux-container.gux-drop-below{border-bottom-color:#aac9ff}.gux-container.gux-dragging{border-top-color:transparent;border-bottom-color:transparent;opacity:0.4}.gux-container .gux-reorder{all:unset;flex:0 1 auto;align-self:auto;order:0;margin-right:4px;color:#596373;cursor:grab;border-radius:4px}.gux-container .gux-reorder.gux-reordering:focus-visible gux-icon{color:#2a60c8}.gux-container .gux-reorder:active{pointer-events:none;cursor:grabbing !important}.gux-container .gux-reorder:hover,.gux-container .gux-reorder:focus-visible{outline:2px solid #aac9ff;outline-offset:0}.gux-container .gux-reorder:hover gux-icon,.gux-container .gux-reorder:focus-visible gux-icon{color:#2a60c8}.gux-container .gux-select{position:relative;flex:1 1 auto;align-self:auto;order:1}.gux-container .gux-select gux-text-highlight{position:absolute;top:2px;left:24px;color:transparent;pointer-events:none;opacity:0.25}.gux-container .gux-select gux-text-highlight.gux-active{opacity:1}.gux-sr-only:not(:focus):not(:active){position:absolute;width:1px;height:1px;overflow:hidden;clip:rect(0 0 0 0);clip-path:inset(50%);white-space:nowrap}"},5605:function(e,t,r){r.d(t,{a:function(){return h},b:function(){return a},c:function(){return d},d:function(){return c},e:function(){return f},f:function(){return l},g:function(){return s},h:function(){return g},s:function(){return u}});var n=r(9439),o=r(6987),i=r(9451);function a(e,t){var r=t.oldIndex,o=t.newIndex,i=Array.from(e.children).map((function(e){return e.orderId})),a=i.splice(r,1),u=(0,n.Z)(a,1)[0];return i.splice(o,0,u),i}function u(e,t){var r=t.oldIndex,n=t.newIndex;v(e).forEach((function(e,t){if(t!==n)e.removeAttribute("gs-reorder-indicator");else{var o=n<r?"above":"below";e.setAttribute("gs-reorder-indicator",o)}}))}function c(e,t,r){var n=(0,o.c)(t.newIndex+r,0,Array.from(e.children).length-1);return Object.assign({},t,{newIndex:n})}function s(){return{oldIndex:null,newIndex:null}}function d(e){return Array.from(e.parentNode.children).indexOf(e)}function l(e,t){x(e).forEach((function(e){e.checked!==t&&(e.checked=t,(0,i.s)(e,"input"),(0,i.s)(e,"change"))}))}function h(e,t){var r=g(e),n=r.count,o=r.total;0===n?(t.indeterminate=!1,t.checked=!1):n===o?(t.indeterminate=!1,t.checked=!0):t.indeterminate=!0}function g(e){var t=x(e).length,r=function(e){var t=x(e);return t.filter((function(e){return e.checked}))}(e).length;return{count:r,total:t}}function f(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return v(e).reduce((function(e,n){var o=t.value.toLowerCase();if(o&&n.textContent.toLowerCase().includes(o)){var i=e.matchCount+1;return n.guxSetHighlight(t.value,i===r),{matchCount:i,currentMatch:r}}return n.guxSetHighlight(),e}),{matchCount:0,currentMatch:0})}function x(e){return Array.from(e.querySelectorAll("input[type=checkbox]"))}function v(e){return Array.from(e.querySelectorAll("gux-column-manager-item"))}},9451:function(e,t,r){function n(e,t){switch(t){case"change":return e.dispatchEvent(new InputEvent("change",{bubbles:!0}));case"input":return e.dispatchEvent(new InputEvent("input",{bubbles:!0}))}}r.d(t,{s:function(){return n}})}}]);
//# sourceMappingURL=1986.4cf4da66.chunk.js.map