"use strict";(self.webpackChunkgcx_media_switcher=self.webpackChunkgcx_media_switcher||[]).push([[596],{9977:function(e,t,n){function r(e){requestAnimationFrame((function(){return requestAnimationFrame(e)}))}function a(e){return setTimeout(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:100)}n.d(t,{a:function(){return a},b:function(){return r}})},596:function(e,t,n){n.r(t),n.d(t,{gux_month_calendar:function(){return f}});var r=n(4165),a=n(5861),o=n(5671),i=n(3144),u=n(7881),s=n(2079),c=n(9451),h=n(9977),l=n(7118),d={changeYear:"Current year is {currentYear}, Click to change year to {changeYear}"},f=function(){function e(t){(0,o.Z)(this,e),(0,u.r)(this,t),this.value=void 0,this.min=void 0,this.max=void 0,this.year=void 0,this.locale=void 0}return(0,i.Z)(e,[{key:"onValueUpdate",value:function(e){var t=(0,l.g)(e).year;this.year=t}},{key:"guxFocus",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a,o=this;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=t||(0,l.b)(),n=(0,l.g)(t),a=n.year,this.year=a,(0,h.b)((function(){var e=o.root.shadowRoot.querySelector('gux-month-list-item[value="'.concat(t,'"]'));e&&e.focus()}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillLoad",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.b)(this.root,d);case 2:this.i18n=e.sent,this.locale=(0,s.g)(this.root),this.value?this.year=(0,l.g)(this.value).year:this.year=(0,l.g)((0,l.b)()).year;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateValue",value:function(e){this.value=e,(0,c.s)(this.root,"input"),(0,c.s)(this.root,"change")}},{key:"isOutOfBounds",value:function(e){return this.max&&this.max<e||this.min&&this.min>e}},{key:"onMonthClick",value:function(e){this.isOutOfBounds(e)||this.updateValue(e)}},{key:"getMonthAriaLabel",value:function(e){var t=(0,l.g)(e),n=t.year,r=t.month;return new Date(Number(n),Number(r)-1).toLocaleDateString(this.locale,{year:"numeric",month:"long"})}},{key:"getYearLabel",value:function(e){return new Date(Number(e),5).toLocaleDateString(this.locale,{year:"numeric"})}},{key:"isSelectedMonth",value:function(e){return e===this.value}},{key:"isAriaSelectedMonth",value:function(e){return!!this.isSelectedMonth(e)&&"true"}},{key:"changeYear",value:function(e){this.year=(parseInt(this.year)+e).toString()}},{key:"isPreviousYearLessThanMinYear",value:function(e,t){return(parseInt(e)-1).toString()<(t&&(0,l.g)(t).year)}},{key:"isNextYearGreaterThanMaxYear",value:function(e,t){return(parseInt(e)+1).toString()>(t&&(0,l.g)(t).year)}},{key:"getMonthShortName",value:function(e,t){return new Date(Number(e),Number(t)-1).toLocaleDateString(this.locale,{month:"short"})}},{key:"doFocusTrap",value:function(){this.previousYearElement.disabled||this.previousYearElement.focus(),this.nextYearElement.disabled||this.nextYearElement.focus(),this.monthListElement.focus()}},{key:"renderHeader",value:function(){var e=this;return(0,u.h)("div",{class:"gux-year-header"},(0,u.h)("button",{type:"button",class:"gux-year-change",onClick:function(){return e.changeYear(-1)},disabled:this.isPreviousYearLessThanMinYear(this.year,this.min),ref:function(t){return e.previousYearElement=t}},(0,u.h)("gux-icon",{"icon-name":"chevron-small-left","screenreader-text":this.i18n("changeYear",{currentYear:parseInt(this.year),changeYear:parseInt(this.year)-1})})),(0,u.h)("div",{class:"gux-year"},this.getYearLabel(this.year)),(0,u.h)("button",{type:"button",class:"gux-year-change",onClick:function(){return e.changeYear(1)},disabled:this.isNextYearGreaterThanMaxYear(this.year,this.max),ref:function(t){return e.nextYearElement=t}},(0,u.h)("gux-icon",{"icon-name":"chevron-small-right","screenreader-text":this.i18n("changeYear",{currentYear:parseInt(this.year),changeYear:parseInt(this.year)+1})})))}},{key:"renderMonths",value:function(){var e=this,t=Array.from(new Array(12),(function(e,t){return String(t+1).padStart(2,"0")})).map((function(t){var n=(0,l.a)(e.year,t);return(0,u.h)("gux-month-list-item",{value:n,selected:e.isSelectedMonth(n),"aria-selected":e.isAriaSelectedMonth(n),"aria-label":e.getMonthAriaLabel(n),onClick:function(){return e.onMonthClick(n)},disabled:e.isOutOfBounds(n)},e.getMonthShortName(e.year,t))}));return(0,u.h)("gux-month-list",{tabIndex:1,ref:function(t){return e.monthListElement=t}},t)}},{key:"renderTrapFocusEl",value:function(){var e=this;return(0,u.h)("span",{onFocus:function(){return e.doFocusTrap()},tabindex:"0"})}},{key:"render",value:function(){return(0,u.h)("div",{class:"gux-month-calendar"},this.renderHeader(),this.renderMonths(),this.renderTrapFocusEl())}},{key:"root",get:function(){return(0,u.g)(this)}}],[{key:"delegatesFocus",get:function(){return!0}},{key:"watchers",get:function(){return{value:["onValueUpdate"]}}}]),e}();f.style=".gux-month-calendar{flex-wrap:wrap;width:255px;border:1px solid #b4bccb;border-radius:4px;box-shadow:0 2px 4px rgba(32, 41, 55, 0.24)}.gux-month-calendar .gux-year-header{position:relative;display:flex;align-items:center;justify-content:space-between;height:16px;padding:16px;color:#fdfdfd;background-color:#2a60c8;border-top-left-radius:3px;border-top-right-radius:3px}.gux-month-calendar .gux-year-header button{color:#fdfdfd;cursor:pointer;background:none;border:none;outline:none}.gux-month-calendar .gux-year-header button:focus-visible{border-radius:4px;outline:3px solid #aac9ff;outline-offset:1px;box-shadow:0 0 0 1px #fdfdfd}.gux-month-calendar .gux-year-header button.gux-year-change:disabled{cursor:default;opacity:0.5}.gux-month-calendar .gux-year-header button gux-icon{width:16px;height:16px;pointer-events:none}.gux-month-calendar .gux-year-header .gux-year{font-family:Roboto, sans-serif;font-weight:400;font-weight:700}.gux-month-calendar .gux-months{padding:24px;background-color:#fdfdfd}.gux-month-calendar .gux-months button{width:65px;height:50px;margin:2px;text-align:center;cursor:pointer;background:none;border:none;border-radius:4px;outline:none;font-family:Roboto, sans-serif;font-weight:400;font-size:12px;line-height:20px}.gux-month-calendar .gux-months button:focus-visible{outline:3px solid #aac9ff;outline-offset:1px;box-shadow:0 0 0 1px #fdfdfd}.gux-month-calendar .gux-months button.gux-selected,.gux-month-calendar .gux-months button:hover{color:#fdfdfd;background-color:#2a60c8}.gux-month-calendar .gux-months button:disabled{color:#596373;pointer-events:none;background-color:#fdfdfd}"},9451:function(e,t,n){function r(e,t){switch(t){case"change":return e.dispatchEvent(new InputEvent("change",{bubbles:!0}));case"input":return e.dispatchEvent(new InputEvent("input",{bubbles:!0}))}}n.d(t,{s:function(){return r}})},7118:function(e,t,n){n.d(t,{a:function(){return a},b:function(){return i},g:function(){return o}});var r=n(9439);function a(e,t){return"".concat(e,"-").concat(t)}function o(e){var t=e.split("-"),n=(0,r.Z)(t,2);return{year:n[0],month:n[1]}}function i(){var e=new Date;return a(e.getFullYear().toString(),(e.getMonth()+1).toString().padStart(2,"0"))}}}]);
//# sourceMappingURL=596.33209732.chunk.js.map