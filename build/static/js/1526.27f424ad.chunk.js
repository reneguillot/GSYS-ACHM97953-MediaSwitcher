"use strict";(self.webpackChunkgcx_media_switcher=self.webpackChunkgcx_media_switcher||[]).push([[1526],{9977:function(e,n,t){function u(e){requestAnimationFrame((function(){return requestAnimationFrame(e)}))}function o(e){return setTimeout(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:100)}t.d(n,{a:function(){return o},b:function(){return u}})},3154:function(e,n,t){t.d(n,{h:function(){return u},m:function(){return o}});var u=250;function o(e,n){switch(e.key){case"ArrowUp":e.stopPropagation(),e.preventDefault(),function(e){var n=e.previousElementSibling;n?n.guxFocus():s(e)}(n);break;case"ArrowDown":e.stopPropagation(),e.preventDefault(),function(e){var n=e.nextElementSibling;n?n.guxFocus():i(e)}(n);break;case"ArrowRight":case"ArrowLeft":e.preventDefault();break;case"Home":e.stopPropagation(),e.preventDefault(),i(n);break;case"End":e.stopPropagation(),e.preventDefault(),s(n)}}function i(e){var n=function(e){var n=e;for(;null!==n.previousElementSibling;)n=n.previousElementSibling;return n}(e);n&&n.guxFocus()}function s(e){var n=function(e){var n=e;for(;null!==n.nextElementSibling;)n=n.nextElementSibling;return n}(e);n&&n.guxFocus()}},1526:function(e,n,t){t.r(n),t.d(n,{gux_submenu:function(){return h}});var u=t(4165),o=t(5861),i=t(5671),s=t(3144),r=t(7881),a=t(9977),c=t(3154),l=t(297),h=function(){function e(n){(0,i.Z)(this,e),(0,r.r)(this,n),this.label=void 0,this.isShown=!1}return(0,s.Z)(e,[{key:"forceUpdate",value:function(e){e&&this.popperInstance&&this.popperInstance.update()}},{key:"guxFocus",value:function(){var e=(0,o.Z)((0,u.Z)().mark((function e(){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.buttonElement.focus();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onKeydown",value:function(e){var n=this;switch((0,c.m)(e,this.root),e.key){case"Enter":e.stopPropagation(),this.hideDelayTimeout=(0,a.a)((function(){n.focusOnSubmenu()})),this.guxFocus();break;case"ArrowRight":e.stopPropagation(),this.show(),this.hideDelayTimeout=(0,a.a)((function(){n.focusOnSubmenu()}));break;case"ArrowLeft":case"Escape":this.submenuContentElement.contains(e.target)&&e.stopPropagation(),this.guxFocus()}}},{key:"onKeyup",value:function(e){var n=this;if(" "===e.key)e.stopPropagation(),this.submenuContentElement.contains(document.activeElement)?this.root.focus():this.hideDelayTimeout=(0,a.a)((function(){n.focusOnSubmenu()}))}},{key:"onmouseenter",value:function(){this.show()}},{key:"onMouseleave",value:function(){this.hide()}},{key:"onClick",value:function(e){this.submenuContentElement.contains(e.target)?this.hide():e.stopPropagation()}},{key:"onFocusin",value:function(){this.show()}},{key:"onFocusout",value:function(){this.hide()}},{key:"show",value:function(){clearTimeout(this.hideDelayTimeout),this.isShown=!0}},{key:"hide",value:function(){var e=this;this.isShown&&(this.hideDelayTimeout=setTimeout((function(){e.isShown=!1}),c.h))}},{key:"runPopper",value:function(){this.popperInstance=(0,l.c)(this.buttonElement,this.submenuElement,{modifiers:[{name:"offset",options:{offset:[-8,0]}},{name:"flip",enabled:!1}],placement:"right-start"})}},{key:"destroyPopper",value:function(){this.popperInstance&&(this.popperInstance.destroy(),this.popperInstance=null)}},{key:"focusOnSubmenu",value:function(){this.submenuContentElement.contains(document.activeElement)||Array.from(this.submenuContentElement.children)[0].guxFocus()}},{key:"componentDidLoad",value:function(){this.runPopper()}},{key:"disconnectedCallback",value:function(){this.destroyPopper()}},{key:"render",value:function(){var e=this;return(0,r.h)(r.H,null,(0,r.h)("button",{type:"button",class:"gux-submenu-button",role:"menuitem",tabIndex:-1,ref:function(n){return e.buttonElement=n},"aria-haspopup":"true","aria-expanded":this.isShown.toString()},(0,r.h)("span",{class:"gux-submenu-button-text"},this.label),(0,r.h)("gux-icon",{class:"gux-submenu-open-icon","icon-name":"chevron-small-right",decorative:!0})),(0,r.h)("div",{ref:function(n){return e.submenuElement=n},class:{"gux-submenu-wrapper":!0,"gux-shown":this.isShown}},(0,r.h)("div",{role:"menu",class:"gux-submenu-content",ref:function(n){return e.submenuContentElement=n}},(0,r.h)("slot",null))))}},{key:"root",get:function(){return(0,r.g)(this)}}],[{key:"watchers",get:function(){return{isShown:["forceUpdate"]}}}]),e}();h.style="gux-submenu{display:block;flex:1 1 auto;align-self:auto}gux-submenu .gux-submenu-button{all:unset;display:flex;flex-direction:row;flex-wrap:nowrap;align-content:stretch;align-items:center;justify-content:flex-start;width:129px;height:32px;padding:0 12px 0 16px;line-height:32px;color:#2e394c;background-color:#fdfdfd}gux-submenu .gux-submenu-button:focus-within,gux-submenu .gux-submenu-button:hover{color:#fdfdfd;background-color:#2a60c8}gux-submenu .gux-submenu-button .gux-submenu-button-text{flex:1 1 auto;align-self:auto;order:0;margin-right:12px;overflow-x:hidden;text-overflow:ellipsis;white-space:nowrap}gux-submenu .gux-submenu-button .gux-submenu-open-icon{flex:0 0 auto;align-self:auto;order:0;width:16px;height:16px}gux-submenu .gux-submenu-wrapper{flex-direction:column;padding:8px 0;visibility:hidden;background-color:#fdfdfd;border:1px solid #b4bccb;border-radius:4px;box-shadow:0 2px 4px rgba(32, 41, 55, 0.24)}gux-submenu .gux-submenu-wrapper.gux-shown{visibility:visible}"}}]);
//# sourceMappingURL=1526.27f424ad.chunk.js.map