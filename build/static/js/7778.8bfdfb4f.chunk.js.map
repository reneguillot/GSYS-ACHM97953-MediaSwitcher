{"version":3,"file":"static/js/7778.8bfdfb4f.chunk.js","mappings":"uLAIMA,EAAc,CAChBC,UAAW,CACPC,SAAU,wCAEdC,QAAS,YACTC,UAAW,CAAC,GAGVC,EAAaL,EACbM,EAAUN,EAEHO,EAAuB,SAACC,GAEjC,IAAIC,EACJ,GAFAC,QAAQC,IAAI,uBAAwBH,GAEhCA,EACA,OAAQA,EAAYI,QAChB,IAAK,aAAcH,EAAgBJ,EAAY,MAC/C,IAAK,cAAeI,EAAgBT,EAAa,MACjD,IAAK,UAAWS,EAAgBH,EAIxC,OAAOG,CACX,E,6BCKA,EAvBuB,WACnB,IAAMI,EAAe,IAAIC,gBAAgBC,SAASC,QAAQC,IAAI,WAAWL,OAmBzE,OAjBAM,EAAAA,EAAAA,YAAU,WACNR,QAAQC,IAAI,2BAA4BE,GACxC,IAAMM,EAAkB,CACpBC,cAAe,QACfC,UAAWd,EAAqBM,GAA8B,cAAcZ,UAAUC,SACtFoB,aAAa,GAADC,OAAKC,OAAOT,SAASU,SAAQ,MAAAF,OAAKC,OAAOT,SAASW,MAAIH,OAAGI,uCAGnEC,EAAQC,OAAOC,KAAKX,GAAiBY,KAAI,SAAAC,GAAC,SAAAT,OAAOU,mBAAmBD,GAAE,KAAAT,OAAIU,mBAAmBd,EAAgBa,IAAG,IAAIE,KAAK,KAC/HxB,QAAQC,IAAI,0BAADY,OAA2BK,IAEtC,IAAMO,GAAiBC,EAAAA,EAAAA,IAAe,qBAAqB,EAAMC,gBAC3DC,EAAsD,kBAApBH,GAAgCA,EAAevB,OAAO2B,OAAS,EAAIJ,EAAevB,OAAS,GAC7H4B,EAAI,iBAAAjB,OAAoBe,EAAuB,qBAAAf,OAAoBK,GACzEJ,OAAOT,SAAWyB,CACtB,GAAG,KAEKC,EAAAA,EAAAA,KAACC,EAAAA,SAAQ,GACrB,C","sources":["config.js","components/login/purecloud/PureCloudLogin.js"],"sourcesContent":["import { useLocation } from 'react-router-dom';\r\n\r\n// private config\r\n\r\nconst development = {\r\n    purecloud: {\r\n        clientId: '0ffc409b-64a5-411e-a3d6-dc777c4763ba',\r\n    },\r\n    product: 'purecloud',\r\n    endpoints: {}\r\n}\r\n\r\nconst production = development\r\nconst sandbox = development\r\n\r\nexport const getEnvironmentConfig = (environment) => {\r\n    console.log('getEnvironmentConfig', environment);\r\n    let derivedConfig;\r\n    if (environment) {\r\n        switch (environment.trim()) {\r\n            case 'production': derivedConfig = production; break;\r\n            case 'development': derivedConfig = development; break;\r\n            case 'sandbox': derivedConfig = sandbox; break;\r\n            default: break;\r\n        }    \r\n    }\r\n    return derivedConfig;\r\n}\r\n\r\nexport const headerTitle = \"Agent Media Switcher UI\";","import './PureCloudLogin.css';\r\n\r\nimport { useSelector } from 'react-redux';\r\nimport { getEnvironmentConfig } from '../../../config';\r\n\r\nimport React, { useEffect, Fragment } from 'react';\r\n\r\nimport { getStorageItem } from 'services/applicationStorage';\r\n\r\nconst PureCloudLogin = () => {\r\n    const runtimeValue = new URLSearchParams(location.search).get('runtime').trim();\r\n\r\n    useEffect(() => {\r\n        console.log('PureCloudLogin component', runtimeValue);\r\n        const queryStringData = {\r\n            response_type: 'token',\r\n            client_id: getEnvironmentConfig(runtimeValue ? runtimeValue : 'production').purecloud.clientId,\r\n            redirect_uri: `${window.location.protocol}//${window.location.host}${process.env.PUBLIC_URL}`\r\n        };\r\n\r\n        const param = Object.keys(queryStringData).map(k => `${encodeURIComponent(k)}=${encodeURIComponent(queryStringData[k])}`).join('&');\r\n        console.log(`Authorization request: ${param}`);\r\n\r\n        const envFromSession = getStorageItem('purecloud-csp-env', true, sessionStorage);\r\n        const envFromSessionSanitized = typeof (envFromSession) === 'string' && envFromSession.trim().length > 0 ? envFromSession.trim() : '';\r\n        const href = `https://login.${envFromSessionSanitized}/oauth/authorize?${param}`;\r\n        window.location = href;\r\n    }, [])\r\n\r\n    return (<Fragment></Fragment>);\r\n};\r\n\r\nexport default PureCloudLogin;\r\n"],"names":["development","purecloud","clientId","product","endpoints","production","sandbox","getEnvironmentConfig","environment","derivedConfig","console","log","trim","runtimeValue","URLSearchParams","location","search","get","useEffect","queryStringData","response_type","client_id","redirect_uri","concat","window","protocol","host","process","param","Object","keys","map","k","encodeURIComponent","join","envFromSession","getStorageItem","sessionStorage","envFromSessionSanitized","length","href","_jsx","Fragment"],"sourceRoot":""}